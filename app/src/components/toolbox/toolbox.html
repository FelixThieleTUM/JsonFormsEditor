<md-content style="height:100%;" layout="column">
    <md-subheader class="md-primary bottom-border">CONTROLS</md-subheader>
    <md-content style="padding-top: 10px">
        <div layout="row" style="padding-right: 17px; padding-left: 17px;">
            <md-icon class="material-icons" ng-if="!toolbox.isParentFolder()" ng-click="toolbox.clickedBack()">arrow_back
            </md-icon>
            <span flex></span>
            <md-switch class="md-primary" style="margin-top: 0px; margin-bottom: 0px;" md-no-ink ng-model="toolbox.configService.enableFilter">
                Hide used elements
            </md-switch>
        </div>
    </md-content>

    <md-content flex class="md-padding tree-view" style="margin-bottom:100px; padding-top: 0px;">
        <div ui-tree="toolbox.treeOptions" data-drag-delay="100" data-clone-enabled="true" data-nodrop-enabled="true">
            <ol ui-tree-nodes
                ng-model="toolbox.toolboxService.elements">
                <li ng-repeat="element in toolbox.toolboxService.elements"
                    ui-tree-node ng-hide="toolbox.shouldHide(element)">
                    <div ui-tree-handle class="tree-node tree-node-content" ng-style="{cursor: (element.isObject() ? 'default' : 'move')}">
                        <md-icon ng-if="element.isObject()" ng-click="toolbox.clickedIcon(element)" class="material-icons">{{element.getIcon()}}
                        </md-icon>
                        <span ng-if="element.isObject()" ng-click="toolbox.clickedIcon(element)" style="overflow:hidden;" class="left-margin">{{element.getLabel()}}</span>
                        <md-icon ng-if="!element.isObject()" class="material-icons">{{element.getIcon()}}
                        </md-icon>
                        <span ng-if="!element.isObject()" style="overflow:hidden;" class="left-margin">{{element.getLabel()}}</span>
                        <a class="pull-right left-margin" ng-hide="!toolbox.canBeRemoved(element)"
                           ng-click="toolbox.removeDataElement(element)">
                            <md-icon class="btn material-icons">delete</md-icon>
                        </a>
                    </div>
                </li>
            </ol>
        </div>
    </md-content>
    <md-content class="toolbox-bottom-control top-border">
        <div layout="row" layout-align="space-around center">

            <md-input-container flex="60" style="margin-top:20px; margin-bottom:0px;">
                <input id="inputLabel" ng-enter="toolbox.addNewElement()" ng-model="toolbox.newElementLabel" flex="auto"
                       flex-order="0" class="md-primary" type="text" placeholder="Add new attribute..."/>
            </md-input-container>
            <div flex="40">

                <md-menu>
                    <md-button ng-click="$mdOpenMenu($event)" class="md-raised md-primary">
                        {{toolbox.newElementTypeLabel}}
                        <md-icon class="material-icons">keyboard_arrow_down</md-icon>
                    </md-button>
                    <md-menu-content>
                        <md-menu-item ng-repeat="typeLabel in toolbox.elementTypes">
                            <md-button ng-click="toolbox.setNewElementTypeLabel(typeLabel)">
                                {{typeLabel}}
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </div>


        </div>
    </md-content>
</md-content>
